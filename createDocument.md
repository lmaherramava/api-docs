# Создание документа

Метод предназначен для создания документа на платформе. Документ создается в статусе Черновик (DRAFT). После этого документ можно обновить или удалить.

```POST /createDocument```

### Формат запроса

Запрос на создание документа следует отправлять с помощью метода POST.
```
/createDocument
? [id_type= <идентификатор>]
& [org_id= <идентификатор>]
& [org_id_sender= <идентификатор>]
& [org_id_receiver= <идентификатор>]
& [document_type= <тип документа>]
& [file_name= <имя файла>]
& [doc_number= <номер документа>]
& [doc_flow_type= <идентификатор>]
& [doc_date= <дата>]
```

### URL запроса 
```
https://dapi-preprod.ediweb.ru/edi/api/v1.1/createDocument?id_type=gln&org_id=2000000009994&org_id_sender=2000000009994&org_id_receiver=2000000007705&document_type=WAYBILL_T1_ON_PTLSSOBTS&file_name=0402_WAYBILL_T1_ON_PTLSSOBTS.xml&doc_number=MDItMDQJ&doc_flow_type=LEGACY&doc_date=2019-04-02
```

### Параметры запроса

| Параметр              | Описание                                                                                                                                                  | Пример значения                  | Тип данных  |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------|-------------|
| `id_type`*            | Тип идентификатора организации. Принимает значения: `gln` или `fns`                                                                                   | gln                            | string      |
| `org_id`*             | Идентификатор запроса организации-инициатора запроса                                                                                                    | 2000000009994                  | string      |
| `org_id_sender`*      | Идентификатор запроса организации-отправителя запроса                                                                                                   | 2000000009994                  | string      |
| `org_id_receiver`*    | Идентификатор запроса организации-получателя запроса Для нескольких получателей указывается идентификатор первого (основного)                          | 2000000007705                  | string      |
| `document_type`*      | Тип документа. Принимает различные значения, такие как `WAYBILL_T1_ON_PTLSSOBTS`, `TRANSPORT_IFTMBF`, и другие                                           | WAYBILL_T1_ON_PTLSSOBTS        | string      |
| `file_name`*          | Имя файла с расширением                                                                                                                                  | 0402_WAYBILL_T1_ON_PTLSSOBTS.xml | string      |
| `doc_number`*         | Номер документа на платформе в кодировке base64                                                                                                         | MDItMDQJ                       | string      |
| `doc_date`           | Дата создания документа в формате UTC: `yyyy-MM-dd`. Если не указана, API подставляет текущую дату                                                      | 2019-04-02                     | date-time   |
* Обязательный параметр

В теле запроса передается xml-документ в кодировке base64. 

### Формат ответа

Если запрос обработан без ошибок, API возвращает код ответа `200`. Если запрос вызвал ошибку, возвращается соответствующий код ошибки и описание проблемы.

### Тело ответа
```

<?xml version="1.0" encoding="windows-1251" standalone="yes"?><Файл ИдФайл="ON_PTLSSOBTS___2IJ92B02C5A435544C7AAA90E7FB5AC4BE2_2IJ92B02C5A435544C7AAA90E7FB5AC4BE2_0_20230908_bb68941f-cbcc-4317-93bb-c15d32faf5bd" ВерсПрог="DropCat" ВерсФорм="5.01"><Документ КНД="1110380" ДатИнфСоб="08.09.2023" ВрИнфСоб="10:59:20" ДатаПЛ="08.09.2023" ПризнНачРейс="2" УИДПЛПред="35572ddf-c967-489a-8f21-076d6ac3de96"><СодИнфСоб УИД_ПЛ="1b90628c-23d0-4b5c-a6e1-22e2edacf7f7" ОбМедОсмПосле="1" ВидПрв="КП" ВидКП="РП" ВидСообщ="Г"><МестОтпр><ГЛН>4680328247002</ГЛН><Адрес><АдрРФ Индекс="352630" КодРегион="23" Район="Белореченский р-н" Город="Белореченск" Улица="Мира ул." Дом="89"/></Адрес></МестОтпр><АдрПункт><ГЛН>4607164990558</ГЛН><Адрес><АдрРФ Индекс="352500" КодРегион="23" Район="Лабинский р-н" Город="Лабинск" Улица="Карла Маркса ул." Дом="190" Кварт="А40"/></Адрес></АдрПункт><СрокПЛ ПЛДень="1" ДатаИспПЛ="17.08.2023"/><СвЛицПЛ ЛицоОфПЛ="С"><ИдСв><СвЮЛУч НаимОрг="Поставщик УПД" ИННЮЛ="7612312312" КПП="123321123" ОГРН="2121212121212"/></ИдСв><Адрес><АдрРФ Индекс="610000" КодРегион="43" Район="Советский" Город="Советск" Улица="ул Ленина" Дом="5" Корпус="1" Кварт="12"/></Адрес><Контакт><Тлф>88008008080</Тлф><ЭлПочта>test@test.ru</ЭлПочта></Контакт></СвЛицПЛ><СвТС><ТС Тип="легковая" Марка="opel" Модель="1" РегНомер="1dd111"/></СвТС><СвВодит><ВодитУд НомВУ="123456" СерВУ="1234" ДатаВыдВУ="31.08.2023"/><ФИО Фамилия="МДК" Имя="Елена"/></СвВодит></СодИнфСоб><ПодпИнфСоб Должн="Дебитор" СпосПодтПолном="6"><ФИО Фамилия="Дебиторов" Имя="Тестовый"/></ПодпИнфСоб></Документ></Файл>
```

### Заголовки ответа
```
{
  "connection": "keep-alive",
  "content-length": "1982",
  "content-type": "text/plain; charset=UTF-8",
  "date": "Thu, 02 Oct 2023 14:16:14 GMT",
  "doc_id": "103940815",
  "request_uuid": "0f1ec66f-b5b1-49c2-8932-c2cccbe55137",
  "server": "nginx"
}
```
